<html>
<head>
  <script>
    window.onAmazonLoginReady = function() { 
      amazon.Login.setClientId('amzn1.application-oa2-client.2f36480d8a284644a87c752920fd6d57'); 
    };
  </script>

  <script async="async" type='text/javascript' 
    src='https://static-na.payments-amazon.com/OffAmazonPayments/us/sandbox/js/Widgets.js'>
  </script>
</head>

<body>
  
  Wallet Widget -test
  <style type="text/css">
    #walletWidgetDiv{width: 400px; height: 228px;}
  </style>
  <div id="walletWidgetDiv"></div>
  <script>
    window.onAmazonPaymentsReady = function() {
        new OffAmazonPayments.Widgets.Wallet({
        sellerId: 'A26EDUPKE5MR47',
        onReady: function(billingAgreement) {
         var billingAgreementId = billingAgreement.getAmazonBillingAgreementId();
        },
        agreementType: 'BillingAgreement',
        design: {
            designMode: 'responsive'
         },
        onPaymentSelect: function(billingAgreement) {
           // Replace this code with the action that you want to perform
           // after the payment method is selected.
         },
        onError: function(error) { 
            // your error handling code.
            alert("The following error occurred: " 
              + error.getErrorCode() 
              + ' - ' + error.getErrorMessage());
          } 
      }).bind("walletWidgetDiv");


      new OffAmazonPayments.Widgets.Consent({
        sellerId: 'A26EDUPKE5MR47',
        // amazonBillingAgreementId obtained from the Amazon Address Book widget. 
        amazonBillingAgreementId: amazonBillingAgreementId, 
        design: {
          designMode: 'responsive'
        },
        onReady: function(billingAgreementConsentStatus){
          // Called after widget renders
          buyerBillingAgreementConsentStatus =
            billingAgreementConsentStatus.getConsentStatus();
          // getConsentStatus returns true or false
          // true – checkbox is selected
          // false – checkbox is unselected - default
        },
        onConsent: function(billingAgreementConsentStatus) {
          buyerBillingAgreementConsentStatus =
            billingAgreementConsentStatus.getConsentStatus();
          // getConsentStatus returns true or false
          // true – checkbox is selected – buyer has consented
          // false – checkbox is unselected – buyer has not consented

          // Replace this code with the action that you want to perform
          // after the consent checkbox is selected/unselected.
         },
        onError: function(error) {
          // your error handling code
         }
      }).bind("consentWidgetDiv ");
    }
  </script>
</body>
</html>