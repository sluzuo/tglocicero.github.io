<html>
<head>
  <script>
    window.onAmazonLoginReady = function() { 
      amazon.Login.setClientId('amzn1.application-oa2-client.2f36480d8a284644a87c752920fd6d57'); 
    };
  </script>

  <script async="async" type='text/javascript' 
    src='https://static-eu.payments-amazon.com/OffAmazonPayments/gbp/sandbox/lpa/js/Widgets.js'>
  </script>
</head>

<body>
  
  AddressBook Widget
  <style type="text/css">
    #addressBookWidgetDiv{width: 400px; height: 228px;}
  </style>
  <div id="addressBookWidgetDiv"></div>
  Wallet Widget
  <style type="text/css">
    #walletWidgetDiv{width: 400px; height: 228px;}
  </style>
  <div id="walletWidgetDiv"></div>
  <script>
    window.onAmazonPaymentsReady = function() {
      new OffAmazonPayments.Widgets.AddressBook({
        sellerId: 'A26EDUPKE5MR47',
        agreementType: 'BillingAgreement',
         
        onReady: function(billingAgreement) {
          var billingAgreementId = billingAgreement.
          getAmazonBillingAgreementId(); 
        },
        onAddressSelect: function(billingAgreement) {
          // Replace the following code with the action that you want to perform
          // after the address is selected.
          // The amazonBillingAgreementId can be used to retrieve
          // the address details by calling the GetBillingAgreementDetails operation.
          // If rendering the AddressBook and Wallet widgets on the same page, you
          // should wait for this event before you render the Wallet widget for
          // the first time.
          // The Wallet widget re-renders itself on all subsequent
          // onAddressSelect events without any action from you. We don't
          // recommend that you explicitly refresh it.
        },
        design: {
          designMode: 'responsive'
        },
        onError: function(error) {
          // your error handling code
        }
      }).bind("addressBookWidgetDiv");
    }

    window.onAddressSelect = function() {
      new OffAmazonPayments.Widgets.Wallet({
        sellerId: 'A26EDUPKE5MR47',
        onReady: function(billingAgreement) {
         var billingAgreementId = billingAgreement.getAmazonBillingAgreementId();
        },
        agreementType: 'BillingAgreement',
        design: {
            designMode: 'responsive'
        },
        onPaymentSelect: function(billingAgreement) {
           // Replace this code with the action that you want to perform
           // after the payment method is selected.
        },
        onError: function(error) { 
            // your error handling code.
            alert("The following error occurred: " 
              + error.getErrorCode() 
              + ' - ' + error.getErrorMessage());
        } 
      }).bind("walletWidgetDiv");
    }
  </script>
</body>
</html>